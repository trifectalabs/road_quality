<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.38.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.38.0/mapbox-gl.css' rel='stylesheet' />
    <style>
      body { margin:0; padding:0; }
      #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
  </head>
  <body>
    <div id='map'></div>
    <script>
			mapboxgl.accessToken = 'pk.eyJ1Ijoia2lhbWJvZ28iLCJhIjoiY2l2MWVqdWdpMDBiMDJ5bXB5aXdyY3JrdyJ9.oqpLQhZcd0yOzBKdSxyk2w';

			var map = new mapboxgl.Map({
						container: 'map',
						style: 'mapbox://styles/mapbox/light-v9',
						center: [-79.412190, 43.667632],
						zoom: 10
			});

      map.on('load', function () {
      	map.addLayer({
      		"id": "mini_segments",
      		"type": "line",
      		"source": {
      			type: 'vector',
      			tiles: ['http://localhost:6767/surface_quality/{z}/{x}/{y}.pbf']
      		},
					"source-layer": "mini_segments",
					"paint": {
						"line-color": {
							"type": "identity",
							"property": "colour"
						},
						"line-width": 1.5
					}
      	});
      });
    </script>
  </body>
</html>
